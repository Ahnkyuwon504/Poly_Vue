<!-- 
    Hw06.
    Visual Studio Code v1.56.0
    21.5.20. 
    A반 kopo20 안규원
 -->
 <!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8">
   <title>HW06</title>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   <style>
     #here {
       width: 60%;
       color: white;
     }
   </style>
   <script>
     //<img src="https://image.tmdb.org/t/p/w500/' + array[i].poster_path>)
     // https://api.themoviedb.org/3/movie/upcoming?api_key=a64533e7ece6c72731da47c9c8bc691f&language=ko-KR&page=1
    function loadGet() {
      $.get('https://api.themoviedb.org/3/movie/upcoming?api_key=a64533e7ece6c72731da47c9c8bc691f&language=ko-KR&page=1', 
      function(data, status) {
        for (var i = 0; i <= data.results.length; i++) {
          str = "";
          str += '<div' + ' id="movie' + i +'\"'+'><img ' +
          'src="https://image.tmdb.org/t/p/w500/' + 
          data.results[i].poster_path + '"' + ' onclick="getinfo('+ i + ')"'+' id="movie' + i + i +'\">';
          str += '<h1>' + data.results[i].title + '</h1></div>';
          $('#here').append(str);
        }
      });
    }

    // Movie를 던질수도 있음...
    function getinfo(integer) {
      $.get('https://api.themoviedb.org/3/movie/upcoming?api_key=a64533e7ece6c72731da47c9c8bc691f&language=ko-KR&page=1', 
      function(data, status) {
          var movieid = '#movie' + integer;  
          str = '<h2>';
          str += data.results[integer].overview + '</h2>';
          str += '<h3>개봉일 : ' + data.results[integer].release_date + '</h3>';
          str += '<h3>별점 : ' + data.results[integer].vote_average + '</h3>';

          $(movieid).append(str);
      });
    }
   </script>
 </head>
 
 <body style="background-color: gray;">
   <button onclick="loadGet()">영화정보 로드</button>
   <div id="here">
   </div>
 </body>
 </html>